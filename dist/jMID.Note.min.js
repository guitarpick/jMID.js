/**
 * jMID.Note.min.js v0.1
 *
 * A javascript library for reading, manipulating, and writing MIDI files
 * @author Steven Sojka - Friday, February 01, 2013
 *
 * MIT Licensed
 */
var jMID=function(b){b.Note=function(a){this.track=null;this.length=0;a=a||{};this.noteOn=a.noteOn?a.noteOn:new b.Event({type:"channel",subtype:"noteOn",deltaTime:0,time:a.time||0,velocity:a.velocity||90,noteNumber:a.noteNumber||32,track:a.track||null});this.noteOff=a.noteOff?a.noteOff:new b.Event({type:"channel",subtype:"noteOff",deltaTime:0,time:a.length?this.noteOn.time+a.length:this.noteOn.time+100,velocity:this.noteOn.velocity,noteNumber:this.noteOn.noteNumber,track:a.track||null});this.end=
this.noteOff.time;this.start=this.noteOn.time;this.velocity=this.noteOn.velocity;this.noteNumber=this.noteOn.noteNumber;this.length=this.noteOff.time-this.noteOn.time;a.track&&(this.track=a.track,this.track.hasEvent(this.noteOn)||this.track.insertEventAtTime(this.noteOn),this.track.hasEvent(this.noteOff)||this.track.insertEventAtTime(this.noteOff),this.track.insertNoteAtTime(this))};b.Note.prototype={adjustTime:function(a){this.track.adjustEventTime(this.noteOn,a);this.track.adjustEventTime(this.noteOff,
a);this.track.positionNote(this)},adjustLength:function(a){this.track.adjustEventTime(this.noteOff,a);this.length=this.noteOff.time-this.noteOn.time;this.end=this.noteOff.time},adjustNoteNumber:function(a){this.setNoteNumber(this.noteNumber+a)},setNoteNumber:function(a){this.noteOn.noteNumber=a;this.noteNumber=this.noteOff.noteNumber=a},setVelocity:function(a){this.velocity=this.noteOn.velocity=a},setChannel:function(a){b.Util.inRange(a,0,15)&&(this.noteOn.channel=a,this.channel=this.noteOff.channel=
a)},remove:function(){null!==this.track&&(this.track.removeEvent(this.noteOn),this.track.removeEvent(this.noteOff),this.track.removeNote(this))}};b.Emitter&&b.Emitter.register(b.Note);return b}(jMID||{});
