var jMID=function(m){var o=function(){for(var a=this.slice(0),b,c=arguments,g=c.length,i;g&&a.length;)for(b=c[--g];-1!==(i=a.indexOf(b));)a.splice(i,1);return a},l=function(a){for(var b=a.split(",").map(function(a){return a.trim()}),a=[],c=0,g=b.length;c<g;c++)a.push(b[c].split(" "));b=[];c=0;for(g=a.length;c<g;c++)for(var i=a[c],e=0,m=this._results.tracks.length;e<m;e++){var l=this._results.tracks[e];b.push([]);for(var p=0,o=l.length;p<o;p++){for(var j=l[p],h=!1,n=0,q=i.length;n<q;n++){var k;a:{k=
i[n];for(var f=[":",">",">=","<","<="],d=f.length-1;0<=d;d--)if(-1!==k.search(f[d])){k=f[d];break a}k=void 0}d=i[n].split(k);f=d[0];d=d[1];switch(k){case ":":h=j[f]==d;break;case ">":h=j[f]>d;break;case ">=":h=j[f]>=d;break;case "<":h=j[f]<d;break;case "<=":h=j[f]<=d}if(!h)break}h&&b[e].push(j)}}return{tracks:b}},e=function(a,b){this._results=b?b:{tracks:a.tracks.slice(0)};this._decoder=a};e.prototype={filter:function(a){a=l.call(this,a);return new e(this._decoder,a)},not:function(a){for(var a=a?
l.call(this,a):this._results,b=[],c=0,g=a.tracks.length;c<g;c++)b.push(o.apply(this._results.tracks[c],a.tracks[c]));return new e(this._decoder,{tracks:b})},apply:function(){for(var a=0,b=this._results.tracks.length;a<b;a++)this._decoder.tracks[a]=this._results.tracks[a].slice(0);return new e(this._decoder)}};m.Query=function(a){if(!a)throw Error("Midi is needed for querying");return new e(a)};return m}(jMID||{});
